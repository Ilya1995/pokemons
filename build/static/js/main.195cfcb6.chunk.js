(this.webpackJsonppokemons=this.webpackJsonppokemons||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(8),l=n.n(i),r=(n(93),n(94),n(21)),c=n(71),m=n(7),s=(n(96),function e(){var t=this;Object(c.a)(this,e),this.pokemonsData={pokemons:[],totalCount:0},this.speciesPokemon=null,this.ability=null,this.loading=!1,this.filter={name:"",type:[]},this.setLoading=function(e){t.loading=e},this.setAbility=function(e){t.ability=e},this.searchNames=function(e){var n=[];return e.forEach((function(e){-1!==e.name.indexOf(t.filter.name)&&n.push(e)})),n},this.getAbility=function(e){fetch(e,{method:"get",headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t.setAbility(e.effect_entries[0].effect)})).catch((function(e){console.log(e)}))},this.getPokemos=function(e){t.setLoading(!0),t.filter.name||t.filter.type.length||e.filter?(e.filter&&(t.filter=e.filter),t.filter.type.length?t.filterType(e):t.filterName(e)):t.searchPokemon(e)},this.searchPokemon=function(e){fetch("https://pokeapi.co/api/v2/pokemon?offset=".concat(e.pagination.offset,"&limit=").concat(e.pagination.limit),{method:"get",headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var n=e.count,a=e.results.map((function(e){return fetch(e.url)}));t.detailedInformation(a,n)})).catch((function(e){console.log(e),t.setLoading(!1)}))},this.filterType=function(e){var n=t.filter.type.map((function(e){return fetch("https://pokeapi.co/api/v2/type/".concat(e))}));Promise.all(n).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(n){var a=[];n.forEach((function(e){return e.pokemon.forEach((function(e){return a.push(e.pokemon)}))}));var o={},i=a.filter((function(e){return e.name in o?0:o[e.name]=1}));t.pagination(i,e.pagination)})).catch((function(e){console.log(e),t.setLoading(!1)}))},this.filterName=function(e){fetch("https://pokeapi.co/api/v2/pokemon?offset=0&limit=1000",{method:"get",headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(n){t.pagination(n.results,e.pagination)})).catch((function(e){console.log(e),t.setLoading(!1)}))},this.pagination=function(e,n){t.filter.name&&(e=t.searchNames(e));var a=e.length;n||(n={offset:0,limit:10});var o=e.slice(n.offset,n.offset+n.limit).map((function(e){return fetch(e.url)}));t.detailedInformation(o,a)},this.detailedInformation=function(e,n){Promise.all(e).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){t.pokemonsData={pokemons:e,totalCount:n}})).catch((function(e){console.log(e)})).finally((function(){return t.setLoading(!1)}))},this.getSpeciesPokemon=function(e){var n;t.speciesPokemon&&t.speciesPokemon.id!==e&&(t.speciesPokemon=null),fetch("https://pokeapi.co/api/v2/pokemon-species/".concat(e),{method:"get",headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return n=e,fetch(e.evolution_chain.url)})).then((function(e){return e.json()})).then((function(e){var a=[e.chain.species.name];e.chain.evolves_to[0]&&(a.push(e.chain.evolves_to[0].species.name),e.chain.evolves_to[0].evolves_to[0]?a.push(e.chain.evolves_to[0].evolves_to[0].species.name):e.chain.evolves_to[1]&&a.push(e.chain.evolves_to[1].species.name));var o=a.map((function(e){return fetch("https://pokeapi.co/api/v2/pokemon/".concat(e))}));Promise.all(o).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){n.evolutionChain=e.map((function(e){return{name:e.name,img:e.sprites.front_default}})),t.speciesPokemon=n}))})).catch((function(e){console.log(e)}))}}),u=new(s=Object(m.h)(s,{pokemonsData:m.m,speciesPokemon:m.m,ability:m.m,loading:m.m,getSpeciesPokemon:m.d,setAbility:m.d,getPokemos:m.d,detailedInformation:m.d,setLoading:m.d})),p=n(177),f=n(152),h=n(179),g=n(151),d=n(148),E=n(172),k=n(143),v=function(e){var t=e.getPokemos,n=Object(a.useState)(null),i=Object(r.a)(n,2),l=i[0],c=i[1],m=Object(a.useState)([]),s=Object(r.a)(m,2),u=s[0],v=s[1];return o.a.createElement("div",null,o.a.createElement(p.a,{id:"standard-basic",label:"name",onChange:function(e){c(e.currentTarget.value)}}),o.a.createElement(d.a,{className:"form-control"},o.a.createElement(h.a,{id:"demo-mutiple-name-label"},"Types"),o.a.createElement(E.a,{labelId:"demo-mutiple-name-label",id:"demo-mutiple-name",multiple:!0,value:u,onChange:function(e){v(e.target.value)},input:o.a.createElement(k.a,null)},["normal","fighting","flying","poison","ground","rock","bug","ghost","steel","fire","water","grass","electric","psychic","ice","dragon","dark","fairy"].map((function(e){return o.a.createElement(g.a,{key:e,value:e},e)})))),o.a.createElement(f.a,{variant:"contained",disabled:!l&&!u.length,onClick:function(){return t({filter:{name:l,type:u}})}},"Search"))},b=n(174),y=n(156),P=n(153),j=n(149),C=n(154),w=n(155),O=function(e){var t=e.count,n=e.getPokemos,i=Object(a.useState)(0),l=Object(r.a)(i,2),c=l[0],m=l[1],s=o.a.useState(10),u=Object(r.a)(s,2),p=u[0],f=u[1];return o.a.createElement(P.a,{component:j.a},o.a.createElement(C.a,{"aria-label":"custom pagination table"},o.a.createElement(w.a,null,o.a.createElement(y.a,null,o.a.createElement(b.a,{rowsPerPageOptions:[10,20,50],count:t,rowsPerPage:p,page:c,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){m(t),n({pagination:{offset:t*p,limit:p}})},onChangeRowsPerPage:function(e){f(parseInt(e.target.value,10)),m(0),n({pagination:{offset:0,limit:parseInt(e.target.value,10)}})}})))))},_=n(158),N=n(159),S=Object(_.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function x(){var e=S();return o.a.createElement("div",{className:e.root},o.a.createElement(N.a,null))}var I=n(36),L=n(160),T=n(162),A=n(157),D=n(150),B=n(103),W=n(163),F=n(161);function J(e){var t=e.pokemon,n=e.speciesPokemon;return o.a.createElement(o.a.Fragment,null,o.a.createElement(L.a,null,o.a.createElement(F.a,{container:!0,direction:"row",justify:"space-around",alignItems:"flex-start"},o.a.createElement(P.a,{className:"table-stats",component:j.a},o.a.createElement(C.a,{"aria-label":"simple table"},o.a.createElement(T.a,null,t.stats.map((function(e){return o.a.createElement(y.a,{key:e.stat.name},o.a.createElement(A.a,{component:"th",scope:"row"},e.stat.name),o.a.createElement(A.a,{align:"right"},e.base_stat))}))))),o.a.createElement("div",null,o.a.createElement(I.a,null,"Types pokemon:"),o.a.createElement(D.a,{component:"nav","aria-label":"mailbox folders"},t.types.map((function(e){return o.a.createElement(B.a,{button:!0,key:e.type.name,divider:!0},o.a.createElement(W.a,{primary:e.type.name}))})))))),o.a.createElement(L.a,null,n?o.a.createElement("div",null,o.a.createElement(I.a,null,"Evolution Chain"),o.a.createElement(P.a,{component:j.a},o.a.createElement(C.a,{"aria-label":"simple table"},o.a.createElement(T.a,null,o.a.createElement(y.a,null,n.evolutionChain.map((function(e){return o.a.createElement(o.a.Fragment,{key:e.name},o.a.createElement(A.a,{align:"right"},o.a.createElement("img",{src:e.img,className:"image-pokemon",alt:"pokemon"})),o.a.createElement(A.a,{align:"right"},e.name))}))))))):o.a.createElement(x,null)))}var H=n(73),R=n.n(H),$=n(169),q=n(168),z=n(175),G=n(167),K=n(165),M=n(166),Q=n(164),U=function(e){var t=e.title,n=e.text,a=e.handleClose;return o.a.createElement("div",null,o.a.createElement(z.a,{open:!0,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(Q.a,{id:"alert-dialog-title"},t),o.a.createElement(K.a,null,n?o.a.createElement(M.a,{id:"alert-dialog-description"},n):o.a.createElement(x,null)),o.a.createElement(G.a,null,o.a.createElement(f.a,{onClick:a,color:"primary",autoFocus:!0},"Close"))))},V=n(53),X=Object(V.a)((function(e){var t=e.pokemon,n=Object(a.useState)(!1),i=Object(r.a)(n,2),l=i[0],c=i[1],m=function(e,t){t.stopPropagation(),c(!0),u.getAbility(e)},s=t.abilities.map((function(e){return o.a.createElement(f.a,{key:e.ability.name,onClick:m.bind(void 0,e.ability.url)},e.ability.name)}));return o.a.createElement(q.a,{expandIcon:o.a.createElement(R.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},o.a.createElement(F.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center"},o.a.createElement("img",{src:t.sprites.front_default,className:"image-pokemon",alt:"pokemon"}),o.a.createElement(I.a,{variant:"h5",gutterBottom:!0},t.name),o.a.createElement(I.a,{className:"typography-abilities"},s),o.a.createElement(P.a,{className:"table-container"},o.a.createElement(C.a,{"aria-label":"simple table"},o.a.createElement($.a,null,o.a.createElement(y.a,null,o.a.createElement(A.a,null,"Number"),o.a.createElement(A.a,{align:"right"},"Height"),o.a.createElement(A.a,{align:"right"},"Weight"),o.a.createElement(A.a,{align:"right"},"Base experience"))),o.a.createElement(T.a,null,o.a.createElement(y.a,null,o.a.createElement(A.a,{component:"th",scope:"row"},t.id),o.a.createElement(A.a,{align:"right"},t.height/10," m"),o.a.createElement(A.a,{align:"right"},t.weight/10," kg"),o.a.createElement(A.a,{align:"right"},t.base_experience)))))),l?o.a.createElement(U,{title:"The ability the Pok\xe9mon may have.",text:u.ability,handleClose:function(e){e.stopPropagation(),c(!1),u.setAbility(null)}}):"")})),Y=n(176),Z=n(170),ee=Object(V.a)((function(){Object(a.useEffect)((function(){u.getPokemos({pagination:{offset:0,limit:10}})}),[]);var e=Object(a.useState)(null),t=Object(r.a)(e,2),n=t[0],i=t[1],l=u.pokemonsData.pokemons.map((function(e){return o.a.createElement(Y.a,{key:e.id,expanded:n===e.id,onChange:function(){return t=e.id,void(n===t?i(null):(u.getSpeciesPokemon(t),i(t)));var t}},o.a.createElement(X,{pokemon:e}),o.a.createElement(J,{pokemon:e,speciesPokemon:u.speciesPokemon}))}));return o.a.createElement("div",null,o.a.createElement("h1",null,"Pokemon repository"),o.a.createElement(v,{getPokemos:u.getPokemos}),u.loading?o.a.createElement(Z.a,{className:"circular-progress",disableShrink:!0}):l,o.a.createElement(O,{count:u.pokemonsData.totalCount,getPokemos:u.getPokemos}))})),te=n(171),ne=function(){return o.a.createElement(te.a,{maxWidth:"md"},o.a.createElement(ee,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},88:function(e,t,n){e.exports=n(102)},93:function(e,t,n){}},[[88,1,2]]]);
//# sourceMappingURL=main.195cfcb6.chunk.js.map